apply plugin: 'java'
apply plugin: 'application'
//apply plugin: 'checkstyle'


repositories {
    mavenCentral()
    flatDir {
        dirs "../chipster/dist"
    }

}



sourceCompatibility = 1.8
targetCompatibility = 1.8

mainClassName = "fi.csc.chipster.toolbox.ToolboxService"
run {
    standardInput = System.in
}


//checkstyle {
//    configFile = 'config/checkstyle/google_checks.xml' as File
//    ignoreFailures = true
//}

//tasks.withType(Checkstyle) {
//    include "fi/csc/chipster/toolbox/**"
//}

test {
    //exclude "fi/csc/chipster/sessiondb/AdminResourceTest.class"
    //exclude "fi/csc/chipster/sessiondb/EventTest.class"
    //exclude "fi/csc/chipster/scheduler/SchedulerTest.class"

}


dependencies {
    compile "org.glassfish.jersey:jersey-bom:latest.release"
    compile "org.glassfish.jersey.containers:jersey-container-grizzly2-http:latest.release"
    compile "org.glassfish.jersey.media:jersey-media-json-jackson:+"
    compile "org.hibernate:hibernate-java8:5.0.0.CR4"
    compile "org.hibernate:hibernate-c3p0:5.0.0.CR4"
    compile "com.h2database:h2:1.3.176"
    compile "commons-io:commons-io:2.4"    
    compile "org.apache.logging.log4j:log4j-api:+"
    compile "org.apache.logging.log4j:log4j-core:+"
    compile "org.apache.logging.log4j:log4j-jul:+"
    compile "org.apache.logging.log4j:log4j-slf4j-impl:+"
    compile "javax.websocket:javax.websocket-api:+"
    compile "org.eclipse.jetty.websocket:javax-websocket-server-impl:+"
    compile "org.glassfish.tyrus:tyrus-client:+"
    compile "org.glassfish.tyrus:tyrus-container-grizzly-client:+"
    compile "org.apache.logging.log4j:log4j-1.2-api:2.4.1"

    compile ":chipster:+"
//    compile files("ext/lib/chipster-3.6.1.jar")
 
    testCompile "junit:junit:4.+"
}
